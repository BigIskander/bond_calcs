# bond_calcs

[In english](README.md)

Это макросы для рассчета цены облигации и дюрации облигации.

Я применял эти макросы для своих научных расчетов.

Макросы предназначены (написаны) для расчетов на данных с базы данных **Compustat** и написаны с учетом особенностей представления данных в этой базе.

*Формула рассчета цены купонной облигации:*

$$  %this formula is written in LaTeX format%
P =\left( \frac{c}{f} \right) * \left( \frac{a * f}{ \left(1 + y\right)^a } + \sum \limits_{i=1}^{n} \frac{1}{ \left(1 + y\right)^{ \frac{i}{f} + a } } \right) + \frac{1}{ \left(1 + y\right)^{m} } 
$$

*Формула расчета цены облигации с выплатой купона при погашении:*

$$  %this formula is written in LaTeX format% 
P =\frac{1 + c * m}{ \left(1 + y\right)^{m} } 
$$

*Формула расчета дюрации купонной облигации:*

$$ %this formula is written in LaTeX format% 
D = \frac{
    \left( \frac{c}{f} \right) * \left( \frac{ a * \left(a * f\right) }{ \left(1 + y\right)^a } + \sum \limits_{i=1}^{n} \frac{ \left( \frac{i}{f} + a \right) }{ \left(1 + y\right)^{ \frac{i}{f} + a } } \right) + \frac{m}{ \left(1 + y\right)^{m} }
}{
    \left( \frac{c}{f} \right) * \left( \frac{a * f}{ \left(1 + y\right)^a } + \sum \limits_{i=1}^{n} \frac{1}{ \left(1 + y\right)^{ \frac{i}{f} + a } } \right) + \frac{1}{ \left(1 + y\right)^{m} }
}
$$

*Формула рассчета дюрации облигации с выплатой купона при погашении:*

$$ %this formula is written in LaTeX format% 
D = \frac{
    \left( \frac{ m * \left(1 + c * m\right) }{ \left(1 + y\right)^{m} } \right)
}{
    \left( \frac{1 + c * m}{ \left(1 + y\right)^{m} } \right)
}
$$

***Описание переменных:***

*P* - цена облигации (посчитанная как процент (доля) от номинала облигации)

*D* - дюрация облигации (посчитанная как процент (доля) от продолжительности базового периода)

*c* - coupon rate (в процентах (долях) от номинала облигации)

*f* - частота купонных платежей (число купоннй платежей в базовый период)

*a* - продолжительность первого неполного купоннога периода (посчитанная как процент (доля) от продолжительности базового периода)

*n* - число подных купонных платежей (или периодов)

*m* - срок до погашения облигации (посчитанная как процент (доля) от продолжительности базового периода)

*y* - доходность к погашению (в процентах (долях) от номинала облигации)

***Примечания:***

1) Показатель coupon rate представляется в базе Compustat в уже рассчитанном виде, но при необходимости coupon rate можно посчитать как:

$$ %this formula is written in LaTeX format%
c = \frac{ \sum c_i }{m}
$$

где *c* - coupon rate, $c_i$ - отдельный купонный платеж (как процент (доля) от номинала), m - срок до погашения (смотрите выше)

2) Дата первого купонного платежа часто бывает указана в базе **Compustat**.

3) В базе **Compustat** для всех облигаций указан номинал равный 1.00 (или 100%). Цена облигации и купонные платежи указываются как процент (доля) от номинала.

4) Продолжительность базового периода, обычно составляет 1 год. Но могут встречаться облигации и с другой продолжительностю базового периода.

[список моих научных публикаций](https://bigiskander.github.io/my_science_papers.html).
